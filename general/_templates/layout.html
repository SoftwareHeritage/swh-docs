{% extends "!layout.html" %}

{% block extrahead %}
<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  _paq.push(['trackPageView']);
  (function() {
    var u="https://piwik.inria.fr/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '59']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
{% endblock %}

{%- block sidebartitle %}
{%- if logo and theme_logo_only %}
  <a href="/general/">
{%- else %}
  <a href="/general/" class="icon icon-home"> Software Heritage - Documentation
{%- endif %}

{%- if logo %}
  {#- Not strictly valid HTML, but it's the only way to display/scale
      it properly, without weird scripting or heaps of work
  #}
  {%- if sphinx_version_info < (4, 0) -%}
  <img src="{{ pathto('_static/' + logo, 1) }}" class="logo" alt="{{ _('Logo') }}"/>
  {%- else %}
  <img src="{{ logo_url }}" class="logo" alt="{{ _('Logo') }}"/>
  {%- endif %}
{%- endif %}
</a>

{%- if theme_display_version %}
  {%- set nav_version = version %}
  {%- if READTHEDOCS and current_version %}
    {%- set nav_version = current_version %}
  {%- endif %}
  {%- if nav_version %}
    <div class="version">
      {{ nav_version }}
    </div>
  {%- endif %}
{%- endif %}

{%- include "searchbox.html" %}

{%- endblock %}

